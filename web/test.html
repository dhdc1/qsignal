<!DOCTYPE html>
<html>
  <head>
    <title>Signal Test</title>
    <style>
      table {
        background: rebeccapurple;
        display: table;
        height: 100px;
        table-layout: fixed;
        width: 400px;
      }

      td {
        background: hotpink;
        display: table-cell;
        height: 100px;
        width: 200px;
      }
    </style>
  </head>
  <body>
    <table border="1">
      <tr>
        <td align="center"><div id="A005">A005</div></td>
      </tr>
      <tr>
        <td align="center"><div id="A006">A006</div></td>
      </tr>
    </table>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.1.1/socket.io.js"></script>
    <script
      src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
      integrity="sha256-3edrmyuQ0w65f8gfBsqowzjJe2iM6n0nKciPUp8y+7E="
      crossorigin="anonymous"
    ></script>
    <script>
      function blinkX(callback, delay, repetitions) {
        var x = 0;
        var intervalID = window.setInterval(function() {
          callback();

          if (++x === repetitions) {
            window.clearInterval(intervalID);
          }
        }, delay);
      }

      $(function() {
        var socket = io();

        socket.on("scn", function(msg) {
          console.log(msg);
        });

        socket.on("blink", function(q) {
          console.log(q);
          blinkX(
            function() {
              $(`#${q}`).fadeToggle();
            },
            500,
            20
          );
        });
      });
    </script>
  </body>
</html>
